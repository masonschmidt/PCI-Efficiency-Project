"""
This module provides means to detect the App Engine environment.
"""

import os


def is_appengine():
<<<<<<< HEAD
    return (is_local_appengine() or
            is_prod_appengine() or
            is_prod_appengine_mvms())
=======
    return is_local_appengine() or is_prod_appengine() or is_prod_appengine_mvms()
>>>>>>> 6fa881f75740879be432c459b9cab8a7b7aa2895


def is_appengine_sandbox():
    return is_appengine() and not is_prod_appengine_mvms()


def is_local_appengine():
<<<<<<< HEAD
    return ('APPENGINE_RUNTIME' in os.environ and
            'Development/' in os.environ['SERVER_SOFTWARE'])


def is_prod_appengine():
    return ('APPENGINE_RUNTIME' in os.environ and
            'Google App Engine/' in os.environ['SERVER_SOFTWARE'] and
            not is_prod_appengine_mvms())


def is_prod_appengine_mvms():
    return os.environ.get('GAE_VM', False) == 'true'
=======
    return (
        "APPENGINE_RUNTIME" in os.environ
        and "Development/" in os.environ["SERVER_SOFTWARE"]
    )


def is_prod_appengine():
    return (
        "APPENGINE_RUNTIME" in os.environ
        and "Google App Engine/" in os.environ["SERVER_SOFTWARE"]
        and not is_prod_appengine_mvms()
    )


def is_prod_appengine_mvms():
    return os.environ.get("GAE_VM", False) == "true"
>>>>>>> 6fa881f75740879be432c459b9cab8a7b7aa2895
